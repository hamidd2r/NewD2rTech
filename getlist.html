<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>get api list</title>
</head>
<body>
    <h1>ajax using ............</h1>
    <ul id="api-list"></ul>


    <form id="my-form">
      <input type="text" name="name" id="name" placeholder="Name">
      <input type="email" name="email" id="email" placeholder="Email">
      <input type="phone" name="contact" id="contact" placeholder="contact">
      <input type="subject" name="subject" id="subject" placeholder="subject">
      <textarea name="message" id="message" placeholder="Messages *" required></textarea>
      <button type="button" onclick="submitForm()">Submit</button>
    </form>

</body>
<script>
    function getAPIList() {
      fetch('https://reqres.in/api/users')
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          var apiListElement = document.getElementById('api-list');
    
          console.log(data);
    
          if (Array.isArray(data.data)) {
            data.data.forEach(function(item) {
              var listItem = document.createElement('li');
              listItem.textContent = item.email;
              apiListElement.appendChild(listItem);
            });
          } else {
            console.error('Invalid API response:', data);
          }
        })
        .catch(function(error) {
          console.error('Error:', error);
        });
    }
    </script>

<script>
    window.addEventListener('load', function() {
      getAPIList();
    });
</script>


<script>
  function submitForm() {
    var form = document.getElementById("my-form");
    var formData = new FormData(form);
  
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://demo.d2rtech.com/api/api/contact", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
  
    xhr.onreadystatechange = function() {
      if (xhr.readyState === XMLHttpRequest.DONE) {
        if (xhr.status === 200) {
          // Request was successful, do something
          console.log(xhr.responseText);
          // You can handle the successful response here
        } else {
          // Request failed, handle the error
          console.error(xhr.status);
        }
      }
    };
  
    // Convert form data to URL-encoded format
    var encodedData = new URLSearchParams(formData).toString();
  
    xhr.send(encodedData);
  }
  </script>
  

</html>